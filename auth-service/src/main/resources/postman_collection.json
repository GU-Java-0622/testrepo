{
  "info": {
    "_postman_id": "da0544ae-4da5-4a4e-b2f5-bc0dc4ea4b66",
    "name": "JWT",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "13740796"
  },
  "item": [
    {
      "name": "Auth Service напрямую (без gateway)",
      "item": [
        {
          "name": "Sign Up default (student)",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"firstname\": \"Борис\",\r\n    \"surname\": \"Борисыч\",\r\n    \"lastname\": \"Борисов\",\r\n    \"email\": \"admin@admin.com\",\r\n    \"password\": \"123456\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:8188/web-auth/api/v1/auth/signup",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8188",
              "path": [
                "web-auth",
                "api",
                "v1",
                "auth",
                "signup"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Sign Up admin",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"firstname\": \"Борис\",\r\n    \"surname\": \"Борисыч\",\r\n    \"lastname\": \"Борисов\",\r\n    \"email\": \"admin@admin.com\",\r\n    \"password\": \"123456\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:8188/web-auth/api/v1/auth/signup",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8188",
              "path": [
                "web-auth",
                "api",
                "v1",
                "auth",
                "signup"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Sign In",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"username\": \"admin@admin.com\",\r\n    \"password\": \"123456\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:8188/web-auth/api/v1/auth/login",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8188",
              "path": [
                "web-auth",
                "api",
                "v1",
                "auth",
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Login Student",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"ivanov@john.com\",\n    \"password\": \"123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:8188/web-auth/api/v1/auth/login",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8188",
              "path": [
                "web-auth",
                "api",
                "v1",
                "auth",
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Login Admin",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"valentinov@john.com\",\n    \"password\": \"1234\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:8188/web-auth/api/v1/auth/login",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8188",
              "path": [
                "web-auth",
                "api",
                "v1",
                "auth",
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get new access token",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"refreshToken\": \"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ2YWxlbnRpbm92QGpvaG4uY29tIiwiZXhwIjoxNjU5NjE3Mzk2fQ.s7cRwgbeKr5oFLKWviReQU-HPiqh7bwzZbe9DESbnUziQeD8eznNZUyPgc6B6_YIrjnRkLODd372MjysQI91_w\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:8188/web-auth/api/v1/auth/token",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8188",
              "path": [
                "web-auth",
                "api",
                "v1",
                "auth",
                "token"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get new access and refresh tokens",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ2YWxlbnRpbm92QGpvaG4uY29tIiwiZXhwIjoxNjU3MTEzODkyLCJmaXJzdE5hbWUiOiLQkNC90LTRgNC10LkiLCJlbWFpbCI6InZhbGVudGlub3ZAam9obi5jb20iLCJyb2xlcyI6W3siaWQiOjEsIm5hbWUiOiJBRE1JTiJ9XX0.B5XMCR5FWB-0L61KYyITzfPfx-b4kZZ0cRgVnwHprPEaSaR2O3zV_ZWLvB5qjoBe4DSApf1_aFaMYW6vyB5VUQ",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"refreshToken\": \"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ2YWxlbnRpbm92QGpvaG4uY29tIiwiZXhwIjoxNjU5Njk1MDkyfQ.PuUvldjz5XMTOoBBx3fgl_ofAkTr_EEtIYwJXg9YNpE7a7hG9pWE3t-IqcGkA-zriVM15xHELLfjXmIVI3a5rQ\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:8188/web-auth/api/v1/auth/refresh",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8188",
              "path": [
                "web-auth",
                "api",
                "v1",
                "auth",
                "refresh"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Через gateway",
      "item": [
        {
          "name": "Auth Service gateway",
          "item": [
            {
              "name": "Login Student",
              "request": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"email\": \"ivanov@john.com\",\n    \"password\": \"123\"\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:5555/auth/api/v1/auth/login",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "5555",
                  "path": [
                    "auth",
                    "api",
                    "v1",
                    "auth",
                    "login"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Login Admin",
              "request": {
                "method": "POST",
                "header": [],
                "url": {
                  "raw": "http://localhost:5555/auth/api/v1/",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "5555",
                  "path": [
                    "auth",
                    "api",
                    "v1",
                    ""
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Get new access token",
              "request": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"refreshToken\": \"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ2YWxlbnRpbm92QGpvaG4uY29tIiwiZXhwIjoxNjU5NjE3Mzk2fQ.s7cRwgbeKr5oFLKWviReQU-HPiqh7bwzZbe9DESbnUziQeD8eznNZUyPgc6B6_YIrjnRkLODd372MjysQI91_w\"\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:5555/auth/api/v1/auth/token",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "5555",
                  "path": [
                    "auth",
                    "api",
                    "v1",
                    "auth",
                    "token"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Get new access and refresh tokens",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ2YWxlbnRpbm92QGpvaG4uY29tIiwiZXhwIjoxNjU5NjE3Mzk2fQ.s7cRwgbeKr5oFLKWviReQU-HPiqh7bwzZbe9DESbnUziQeD8eznNZUyPgc6B6_YIrjnRkLODd372MjysQI91_w",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"refreshToken\": \"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ2YWxlbnRpbm92QGpvaG4uY29tIiwiZXhwIjoxNjU5NjE3Mzk2fQ.s7cRwgbeKr5oFLKWviReQU-HPiqh7bwzZbe9DESbnUziQeD8eznNZUyPgc6B6_YIrjnRkLODd372MjysQI91_w\"\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:5555/auth/api/v1/auth/refresh",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "5555",
                  "path": [
                    "auth",
                    "api",
                    "v1",
                    "auth",
                    "refresh"
                  ]
                }
              },
              "response": []
            }
          ]
        }
      ]
    },
    {
      "name": "Service One",
      "item": [
        {
          "name": "Hello Student Request",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJpdmFub3ZAam9obi5jb20iLCJleHAiOjE2NTY2OTgzOTgsInJvbGVzIjoiU1RVREVOVCIsImZpcnN0TmFtZSI6ItCY0LPQvtGA0YwifQ.Q8PKVw-wcBeAZ1zEx3UI8op2emCjnmecsQ2Rlfpe31KQVZrbTVryEfome6zqsuaMBuVYnKHUX0w-ZdIj0OHZuA",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:8181/web-auth/api/hello/user",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8181",
              "path": [
                "web-auth",
                "api",
                "hello",
                "user"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Hello Admin Request",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "yJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ2YWxlbnRpbm92QGpvaG4uY29tIiwiZXhwIjoxNjU2Njk4NjE5LCJyb2xlcyI6IkFETUlOIiwiZmlyc3ROYW1lIjoi0JDQvdC00YDQtdC5In0.zBBhHfQ492EbraIUxxu4c3_U6HLTD4JRm5lo4Nle2l-NVr12F6FeNBuutu_veiQ6wDqr16QgL6YUjoHtMTm09Q",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:8181/web-auth/api/hello/admin",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8181",
              "path": [
                "web-auth",
                "api",
                "hello",
                "admin"
              ]
            }
          },
          "response": []
        }
      ]
    }
  ]
}